[gd_scene load_steps=21 format=3 uid="uid://cwwe7pbjnywtx"]

[ext_resource type="Script" path="res://completed-examples/completed-scripts/completed-Main.gd" id="1"]
[ext_resource type="PackedScene" uid="uid://b8if6fesgj8ce" path="res://completed-examples/completed-scenes/completed-Player.tscn" id="2"]
[ext_resource type="PackedScene" uid="uid://25pbf07r8tw5" path="res://completed-examples/completed-scenes/completed-Level.tscn" id="3"]
[ext_resource type="Script" path="res://completed-examples/completed-scripts/completed-Time.gd" id="4"]
[ext_resource type="Texture2D" uid="uid://85s7n8073i8v" path="res://resources/art/buttons/button_restart_normal.png" id="5"]
[ext_resource type="Texture2D" uid="uid://dgjdrx2iykp1w" path="res://resources/art/gameover.png" id="6"]
[ext_resource type="FontFile" uid="uid://dsem88xkuo40i" path="res://resources/fonts/Xolonium-Regular.ttf" id="8"]
[ext_resource type="Texture2D" uid="uid://2e7apxl35wtm" path="res://resources/art/buttons/button_restart_pressed.png" id="9"]
[ext_resource type="Texture2D" uid="uid://rpwk7ix8budu" path="res://resources/art/buttons/button_restart_hover.png" id="10"]
[ext_resource type="Texture2D" uid="uid://ddf6slope8o8h" path="res://resources/art/buttons/button_ESC.png" id="11"]
[ext_resource type="Texture2D" uid="uid://c34n3u5hln3tp" path="res://resources/art/buttons/button_ESC_pressed.png" id="12"]
[ext_resource type="Script" path="res://completed-examples/completed-scripts/completed-HelpPanel.gd" id="13"]

[sub_resource type="InputEventKey" id="InputEventKey_m46k5"]
keycode = 4194309

[sub_resource type="InputEventKey" id="InputEventKey_ligwy"]
device = -1
keycode = 32
unicode = 32

[sub_resource type="Shortcut" id="Shortcut_o4emb"]
events = [SubResource("InputEventKey_m46k5"), SubResource("InputEventKey_ligwy")]

[sub_resource type="FontFile" id="6"]
fallbacks = Array[Font]([ExtResource("8")])
face_index = null
embolden = null
transform = null
cache/0/16/0/ascent = 0.0
cache/0/16/0/descent = 0.0
cache/0/16/0/underline_position = 0.0
cache/0/16/0/underline_thickness = 0.0
cache/0/16/0/scale = 1.0
cache/0/16/0/kerning_overrides/16/0 = Vector2(0, 0)
cache/0/16/0/kerning_overrides/2/0 = Vector2(0, 0)
cache/0/16/0/kerning_overrides/3/0 = Vector2(0, 0)
cache/0/16/0/kerning_overrides/30/0 = Vector2(0, 0)
cache/0/2/0/ascent = 0.0
cache/0/2/0/descent = 0.0
cache/0/2/0/underline_position = 0.0
cache/0/2/0/underline_thickness = 0.0
cache/0/2/0/scale = 1.0
cache/0/2/0/kerning_overrides/16/0 = Vector2(0, 0)
cache/0/2/0/kerning_overrides/2/0 = Vector2(0, 0)
cache/0/2/0/kerning_overrides/3/0 = Vector2(0, 0)
cache/0/2/0/kerning_overrides/30/0 = Vector2(0, 0)
cache/0/3/0/ascent = 0.0
cache/0/3/0/descent = 0.0
cache/0/3/0/underline_position = 0.0
cache/0/3/0/underline_thickness = 0.0
cache/0/3/0/scale = 1.0
cache/0/3/0/kerning_overrides/16/0 = Vector2(0, 0)
cache/0/3/0/kerning_overrides/2/0 = Vector2(0, 0)
cache/0/3/0/kerning_overrides/3/0 = Vector2(0, 0)
cache/0/3/0/kerning_overrides/30/0 = Vector2(0, 0)
cache/0/30/0/ascent = 0.0
cache/0/30/0/descent = 0.0
cache/0/30/0/underline_position = 0.0
cache/0/30/0/underline_thickness = 0.0
cache/0/30/0/scale = 1.0
cache/0/30/0/kerning_overrides/16/0 = Vector2(0, 0)
cache/0/30/0/kerning_overrides/2/0 = Vector2(0, 0)
cache/0/30/0/kerning_overrides/3/0 = Vector2(0, 0)
cache/0/30/0/kerning_overrides/30/0 = Vector2(0, 0)

[sub_resource type="InputEventKey" id="InputEventKey_8qlwq"]
device = -1
keycode = 4194305

[sub_resource type="Shortcut" id="11"]
events = [SubResource("InputEventKey_8qlwq")]

[sub_resource type="FontFile" id="9"]
fallbacks = Array[Font]([ExtResource("8")])
face_index = null
embolden = null
transform = null
cache/0/16/0/ascent = 0.0
cache/0/16/0/descent = 0.0
cache/0/16/0/underline_position = 0.0
cache/0/16/0/underline_thickness = 0.0
cache/0/16/0/scale = 1.0
cache/0/16/0/kerning_overrides/16/0 = Vector2(0, 0)
cache/0/16/0/kerning_overrides/18/0 = Vector2(0, 0)
cache/0/18/0/ascent = 0.0
cache/0/18/0/descent = 0.0
cache/0/18/0/underline_position = 0.0
cache/0/18/0/underline_thickness = 0.0
cache/0/18/0/scale = 1.0
cache/0/18/0/kerning_overrides/16/0 = Vector2(0, 0)
cache/0/18/0/kerning_overrides/18/0 = Vector2(0, 0)

[sub_resource type="FontFile" id="12"]
fallbacks = Array[Font]([ExtResource("8")])
face_index = null
embolden = null
transform = null
cache/0/16/0/ascent = 0.0
cache/0/16/0/descent = 0.0
cache/0/16/0/underline_position = 0.0
cache/0/16/0/underline_thickness = 0.0
cache/0/16/0/scale = 1.0
cache/0/16/0/glyphs/0/advance = Vector2(0, 0)
cache/0/16/0/glyphs/0/offset = Vector2(0, 0)
cache/0/16/0/glyphs/0/size = Vector2(0, 0)
cache/0/16/0/glyphs/0/uv_rect = Rect2(0, 0, 0, 0)
cache/0/16/0/glyphs/0/texture_idx = -1
cache/0/16/0/kerning_overrides/16/0 = Vector2(0, 0)
cache/0/16/0/kerning_overrides/20/0 = Vector2(0, 0)
cache/0/16/0/kerning_overrides/18/0 = Vector2(0, 0)
cache/0/20/0/ascent = 0.0
cache/0/20/0/descent = 0.0
cache/0/20/0/underline_position = 0.0
cache/0/20/0/underline_thickness = 0.0
cache/0/20/0/scale = 1.0
cache/0/20/0/glyphs/0/advance = Vector2(0, 0)
cache/0/20/0/glyphs/0/offset = Vector2(0, 0)
cache/0/20/0/glyphs/0/size = Vector2(0, 0)
cache/0/20/0/glyphs/0/uv_rect = Rect2(0, 0, 0, 0)
cache/0/20/0/glyphs/0/texture_idx = -1
cache/0/20/0/kerning_overrides/16/0 = Vector2(0, 0)
cache/0/20/0/kerning_overrides/20/0 = Vector2(0, 0)
cache/0/20/0/kerning_overrides/18/0 = Vector2(0, 0)
cache/0/18/0/ascent = 0.0
cache/0/18/0/descent = 0.0
cache/0/18/0/underline_position = 0.0
cache/0/18/0/underline_thickness = 0.0
cache/0/18/0/scale = 1.0
cache/0/18/0/glyphs/0/advance = Vector2(0, 0)
cache/0/18/0/glyphs/0/offset = Vector2(0, 0)
cache/0/18/0/glyphs/0/size = Vector2(0, 0)
cache/0/18/0/glyphs/0/uv_rect = Rect2(0, 0, 0, 0)
cache/0/18/0/glyphs/0/texture_idx = -1
cache/0/18/0/kerning_overrides/16/0 = Vector2(0, 0)
cache/0/18/0/kerning_overrides/20/0 = Vector2(0, 0)
cache/0/18/0/kerning_overrides/18/0 = Vector2(0, 0)

[node name="Main" type="Node2D"]
script = ExtResource("1")

[node name="Level" parent="." instance=ExtResource("3")]

[node name="Player" parent="." instance=ExtResource("2")]
position = Vector2(576, 550)

[node name="GameOverCanvas" type="CanvasLayer" parent="."]
visible = false

[node name="Gameover" type="Sprite2D" parent="GameOverCanvas"]
position = Vector2(576, 248)
texture = ExtResource("6")

[node name="RestartButton" type="TextureButton" parent="GameOverCanvas"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -80.0
offset_top = 12.0
offset_right = 80.0
offset_bottom = 56.0
grow_horizontal = 2
grow_vertical = 2
pivot_offset = Vector2(80, 18)
shortcut = SubResource("Shortcut_o4emb")
shortcut_in_tooltip = false
texture_normal = ExtResource("5")
texture_pressed = ExtResource("9")
texture_hover = ExtResource("10")

[node name="MainCanvas" type="CanvasLayer" parent="."]

[node name="Time" type="Label" parent="MainCanvas"]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -60.0
offset_top = 10.0
offset_right = 60.0
offset_bottom = 43.0
pivot_offset = Vector2(60, 15)
theme_override_fonts/font = SubResource("6")
theme_override_font_sizes/font_size = 30
text = "Time:10"
script = ExtResource("4")

[node name="CoinsTotal" type="Label" parent="MainCanvas"]
offset_left = 20.0
offset_top = 10.0
offset_right = 122.0
offset_bottom = 43.0
theme_override_fonts/font = SubResource("6")
theme_override_font_sizes/font_size = 30
text = "Coins:0"

[node name="HelpButton" type="TextureButton" parent="MainCanvas"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -136.0
offset_top = 16.0
offset_right = -82.0
offset_bottom = 50.0
grow_horizontal = 0
shortcut = SubResource("11")
texture_normal = ExtResource("11")
texture_pressed = ExtResource("12")

[node name="HelpLabel" type="Label" parent="MainCanvas/HelpButton"]
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = 8.0
offset_top = 5.0
offset_right = 76.0
offset_bottom = 30.0
grow_horizontal = 0
pivot_offset = Vector2(60, 15)
theme_override_fonts/font = SubResource("9")
theme_override_font_sizes/font_size = 18
text = ": Help"

[node name="HelpPanel" type="Panel" parent="MainCanvas"]
visible = false
modulate = Color(1, 1, 1, 0.784314)
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -312.0
offset_bottom = 154.0
grow_horizontal = 0
mouse_filter = 2
script = ExtResource("13")

[node name="HelpLabel" type="Label" parent="MainCanvas/HelpPanel"]
layout_mode = 0
offset_left = 12.0
offset_top = 11.0
offset_right = 301.0
offset_bottom = 139.0
theme_override_fonts/font = SubResource("12")
theme_override_font_sizes/font_size = 18
text = "W or UP : Jump
A or LEFT : Move to Left
D or RIGHT : Move to Right

Enter or Space : Restart Game
Esc : Close or Open Help"

[node name="SpawnCoinTimer" type="Timer" parent="."]
wait_time = 0.3
autostart = true

[node name="GameTimer" type="Timer" parent="."]
wait_time = 21.0
one_shot = true
autostart = true

[connection signal="pressed" from="GameOverCanvas/RestartButton" to="." method="_on_RestartButton_pressed"]
[connection signal="pressed" from="MainCanvas/HelpButton" to="MainCanvas/HelpPanel" method="_on_HelpButton_pressed"]
[connection signal="timeout" from="SpawnCoinTimer" to="." method="_on_SpawnCoinTimer_timeout"]
[connection signal="timeout" from="GameTimer" to="." method="_on_GameTimer_timeout"]
